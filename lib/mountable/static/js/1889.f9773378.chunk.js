"use strict";(self.webpackChunkstlite=self.webpackChunkstlite||[]).push([[1889],{61889:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var a=n(57994),i=n(98907),r=n(64428),o=n(82359),s=n(30969),l=n(44859),u=n.n(l),p=n(42421),d=n(19783),m=n(42894),c=n(6846),f=n(39215),h=n(38267),g=n(60991),y=n(11589),v=n(58131),b=n(37574),C="YYYY/MM/DD";function x(e){return e.map((function(e){return new Date(e)}))}var k=function(e){(0,r.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).formClearHelper=new f.Kz,e.state={values:e.initialValue,isRange:e.props.element.isRange,isEmpty:!1},e.commitWidgetValue=function(t){e.props.widgetMgr.setStringArrayValue(e.props.element,e.state.values.map((function(e){return u()(e).format(C)})),t)},e.onFormCleared=function(){var t=x(e.props.element.default);e.setState({values:t},(function(){return e.commitWidgetValue({fromUi:!0})}))},e.handleChange=function(t){var n=t.date;if(null!==n&&void 0!==n){var a=[];Array.isArray(n)?n.forEach((function(e){e&&a.push(e)})):a.push(n),e.setState({values:a,isEmpty:!a},(function(){e.state.isEmpty||e.commitWidgetValue({fromUi:!0})}))}else e.setState({values:[],isEmpty:!0})},e.handleClose=function(){e.state.isEmpty&&e.setState((function(e,t){return{values:x(t.element.default),isEmpty:!x(t.element.default)}}),(function(){e.commitWidgetValue({fromUi:!0})}))},e.getMaxDate=function(){var t=e.props.element.max;return t&&t.length>0?u()(t,C).toDate():void 0},e}return(0,i.Z)(n,[{key:"initialValue",get:function(){var e=this.props.widgetMgr.getStringArrayValue(this.props.element);return x(void 0!==e?e:this.props.element.default)}},{key:"componentDidMount",value:function(){this.props.element.setValue?this.updateFromProtobuf():this.commitWidgetValue({fromUi:!1})}},{key:"componentDidUpdate",value:function(){this.maybeUpdateFromProtobuf()}},{key:"componentWillUnmount",value:function(){this.formClearHelper.disconnect()}},{key:"maybeUpdateFromProtobuf",value:function(){this.props.element.setValue&&this.updateFromProtobuf()}},{key:"updateFromProtobuf",value:function(){var e=this,t=this.props.element.value;this.props.element.setValue=!1,this.setState({values:t.map((function(e){return new Date(e)}))},(function(){e.commitWidgetValue({fromUi:!1})}))}},{key:"render",value:function(){var e,t=this.props,n=t.width,a=t.element,i=t.disabled,r=t.theme,o=t.widgetMgr,s=this.state,l=s.values,p=s.isRange,f=r.colors,x=r.fontSizes,k=r.lineHeights,V={width:n},D=u()(a.min,C).toDate(),w=this.getMaxDate();return this.formClearHelper.manageFormClearListener(o,a.formId,this.onFormCleared),(0,b.jsxs)("div",{className:"stDateInput",style:V,children:[(0,b.jsx)(h.ON,{label:a.label,disabled:i,labelVisibility:(0,v.iF)(null===(e=a.labelVisibility)||void 0===e?void 0:e.value),children:a.help&&(0,b.jsx)(h.dT,{children:(0,b.jsx)(g.ZP,{content:a.help,placement:y.ug.TOP_RIGHT})})}),(0,b.jsx)(d.Z,{density:m.pw.high,formatString:"yyyy/MM/dd",disabled:i,onChange:this.handleChange,onClose:this.handleClose,overrides:{Popover:{props:{placement:c.r4.bottomLeft,overrides:{Body:{style:{border:"1px solid ".concat(f.fadedText10)}}}}},CalendarContainer:{style:{fontSize:x.sm,paddingRight:r.spacing.sm,paddingLeft:r.spacing.sm,paddingBottom:r.spacing.sm,paddingTop:r.spacing.sm}},Week:{style:{fontSize:x.sm}},Day:{style:{fontSize:x.sm,lineHeight:k.base,"::after":{borderColor:f.transparent}}},PrevButton:{style:function(){return{display:"flex",alignItems:"center",justifyContent:"center",":active":{backgroundColor:f.transparent},":focus":{backgroundColor:f.transparent,outline:0}}}},NextButton:{style:{display:"flex",alignItems:"center",justifyContent:"center",":active":{backgroundColor:f.transparent},":focus":{backgroundColor:f.transparent,outline:0}}},Input:{props:{maskChar:null,overrides:{Root:{style:{borderLeftWidth:"1px",borderRightWidth:"1px",borderTopWidth:"1px",borderBottomWidth:"1px"}},Input:{style:{paddingRight:".5rem",paddingLeft:".5rem",paddingBottom:".5rem",paddingTop:".5rem"}}}}}},value:l,minDate:D,maxDate:w,range:p})]})}}]),n}(s.PureComponent),V=(0,p.b)(k)}}]);
//# sourceMappingURL=1889.f9773378.chunk.js.map